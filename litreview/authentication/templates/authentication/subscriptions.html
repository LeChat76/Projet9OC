<!-- templates/www/followers.html -->

<!DOCTYPE html>

{% extends 'loggedin.html' %}

{% load static %}

{% block content %}

<link rel="stylesheet" href="{% static 'subscriptions.css' %}"> 

    <h3>Suivre d'autres utilisateurs</h3>
    <div id="container-subscriptions">
        <form method="POST">
            {% csrf_token %}
            <!-- Subscription -->
            <h2>Suivre d'autres utilisateurs :</h2>
            <select name="followed_user">
                {% for user in available_users %}
                <option value="{{ user.id }}">{{ user.username }}</option>
                {% endfor %}
            </select>
            <button type="submit" name="add_subscription">Envoyer</button>

            <!-- Followed users-->
            <h2>Abonnements</h2>
            {% if followed_users %}
                {% for user in followed_users %}
                    <div id="followed-user-container">
                        <label>{{ user.username }}</label>
                        <button type="submit" name="remove_subscription" value="{{ user.id }}">Désabonner</button>
                    </div>
                {% endfor %}
            {% else %}
                <p><label id="no-result">Aucun abonnement</label></p>
            {% endif %}

            <!-- Followers -->
            <h2>Abonnés</h2>
            {% if followers_users %}
                {% for user in followers_users %}
                    <div id="follower-user-container">
                        <label>{{ user.username }}</label>
                    </div>
                {% endfor %}
            {% else %}
                <p><label id="no-result">Aucun abonné</label></p>
            {% endif %}

        
        </form>
    </div>

{% endblock content %}

